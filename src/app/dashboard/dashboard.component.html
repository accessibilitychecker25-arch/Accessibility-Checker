<app-file-upload (submitted)="handleFile($event)"></app-file-upload>

<!-- Progress bar -->
<div class="mt-4 w-full max-w-md" *ngIf="isUploading">
  <div class="text-sm text-gray-600 dark:text-gray-300 mb-1">
    Uploading: {{ progress }}%
  </div>
  <div class="w-full bg-gray-200 dark:bg-gray-700 h-2 rounded">
    <div
      class="h-2 bg-blue-600 dark:bg-blue-500 rounded transition-all"
      [style.width.%]="progress"
    ></div>
  </div>
</div>

<!-- JSON Results -->
<div class="mt-6 w-full" *ngIf="reportResult">
  <div class="w-full p-4 bg-gray-100 dark:bg-gray-800 rounded shadow">
    <h3 class="text-lg font-semibold text-gray-800 dark:text-gray-200 mb-2">
      Accessibility Report ({{ reportResult.fileName }})
    </h3>

    <!-- Summary -->
    <div class="text-sm text-gray-700 dark:text-gray-300 mb-4">
      <p><strong>Sucess:</strong> {{ reportResult.summary.successCount }}</p>
      <p><strong>Failed:</strong> {{ reportResult.summary.failedCount }}</p>
      <p>
        <strong>Needs manual check:</strong>
        {{ reportResult.summary.manualCheckCount }}
      </p>
    </div>

    <!-- Failures -->
    <div *ngIf="reportResult.failures?.length">
      <h4 class="font-medium text-red-600 mb-1">Failures</h4>
      <ul
        class="list-disc list-inside text-sm text-gray-700 dark:text-gray-300"
      >
        <li *ngFor="let fail of reportResult.failures">
          <strong>{{ fail.Rule }}</strong> - {{ fail.Description }}
        </li>
      </ul>
    </div>

    <!-- Manual Checks -->
    <div *ngIf="reportResult.needsManualCheck?.length" class="mt-4">
      <h4 class="font-medium text-yellow-600 mb-1">Needs Manual Check</h4>
      <ul
        class="list-disc list-inside text-sm text-gray-700 dark:text-gray-300"
      >
        <li *ngFor="let item of reportResult.needsManualCheck">
          <strong>{{ item.Rule }}</strong> - {{ item.Description }}
        </li>
      </ul>
    </div>
  </div>
</div>