<p-dialog
  header="Upload Assignment Screenshot"
  [(visible)]="showDialog"
  [modal]="true"
  [closable]="true"
  [style]="{ width: '32rem' }"
  [contentStyle]="{ padding: '1.5rem' }"
  [breakpoints]="{ '960px': '75vw', '640px': '90vw' }"
  [styleClass]="
    'custom-dialog bg-white dark:bg-surface text-black dark:text-white rounded-lg shadow-xl'
  "
>
  <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
    <div>
      <label class="block mb-1 font-medium">Assignment Name</label>
      <input
        formControlName="name"
        type="text"
        class="w-full px-3 py-2 border rounded bg-gray-100 dark:bg-gray-700 dark:text-white"
        placeholder="Enter assignment name"
      />
    </div>

    <div>
      <label class="block mb-1 font-medium">Class</label>
      <input
        formControlName="class"
        type="text"
        class="w-full px-3 py-2 border rounded bg-gray-100 dark:bg-gray-700 dark:text-white"
        placeholder="Enter class name"
      />
    </div>

    <div>
      <label class="block mb-1 font-medium">Upload Screenshot</label>
      <app-screenshot-upload
        (scannedText)="onScannedText($event)"
      ></app-screenshot-upload>
    </div>

    <div
      *ngIf="form.value.extractedText"
      class="bg-gray-100 dark:bg-gray-800 p-3 rounded text-sm"
    >
      <h4 class="font-semibold mb-1">Extracted Text:</h4>
      <pre>{{ form.value.extractedText }}</pre>
    </div>

    <div class="flex justify-end gap-2 pt-4">
      <button
        type="button"
        (click)="close()"
        class="px-4 py-2 bg-gray-300 dark:bg-gray-600 text-black dark:text-white rounded"
      >
        Cancel
      </button>

      <button
        type="submit"
        [disabled]="form.invalid"
        class="px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50"
      >
        Submit
      </button>
    </div>
  </form>
</p-dialog>
